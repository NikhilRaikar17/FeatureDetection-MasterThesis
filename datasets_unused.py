sample2 =   ["The system displays all products which are available.",
             "The system allows customers to select the product to purchase.",
             "Customer selects his choice of the product by interacting with the system.",
             "Recommendations of products are given interms of per customer basis.",
             "Recommendations of combinations of products are given interms of per customer basis.",
             "By selecting the products a customer wishes to buy, he proceeds to the the payment option .",
             "Entering the shipping details will proceed the purchase order further.",
             "Collecting the shipping details the payment option is asked by the system.",
             "Different payment options are available.",
             "The system supports paying with credit cards.",
             "The system supports paying with gift cards.",
             "If a customer pays with a credit card, the system approves first the payment by contacting the credit card company.",
             "The payment option is verified and processed further."
             "When the system completes recording an order, the supplier can ship the ordered products to the customer.",
             "Order reciepts are sent to the customer via Email.",
             "Confirmation Emails of dispatch and delivery of the product to its destination are also sent via Email.",
             "Various Shipping options are also given to the customer.",
             "Customer registration option is available.",
             "If a customer resgisters and then buys a product,his account will be updated with the order details.",
             "Prices for various pruchases will vary accordingly for small and big products.",
             "Shipping costs are added for small products.",
             "Shipping costs are not added for large products.",
             "Air mail shipping allowed only for small products.",
             "If a customer pays with a gift card, the system supports only land shipping.",
             "Customer can track his purchase with his unique orderID.",
             "After the purchase is completed, the system will redirect the user to its main home page catalog.",
             "There is a review product option available to voice opinions of the products sold.",
             "As soon as a customer has purchased a product, a review product mail will be sent to the customer.",
             "Products are updated in the main page catalog by its relevant suppliers",]


sample = ["After the system verifies the purchase's payments details, the supplier confirms the purchase.",
            "The system asks for shipment details.",
	        "The system supports paying with credit cards.",
            "If a customer pays with a credit card, the system approves first the payment by contacting the credit card company.",
            "When the system completes recording an order, the supplier can ship the ordered products to the customer.",
            "The system sends the shipping documents via email.",
            "When the system finalizes a software order details, the supplier ships the ordered product via email.",
            "The system sends the shipping documents.",
            "The system supports different shipping options.",
            "However, if a customer buys a very small product, the system supports only air mail shipping.",
            "The system displays the available products.",
            "When a registered customer buys a product, the system updates the inventory.",
            "The system supports paying with gift cards.",
            "If a customer pays with a gift card, the system supports only land shipping.",
            "A customer can track the purchase status.",
            "The system provides details on the product delivery status.",
            "The system presents the product return page.",
            "If the customer returns a product, the system updates the inventory.",
            "The system presents the product page,When a supplier enters new products, the system updates the catalog.",
            "The system enables customers writing reviews on products.",
            "When a customer reviews a product, the system sends the product review to the relevant supplier.",
            "When a supplier receives new products, he enters the new products to the system.",
            "The system updates the catalog.",
            "When the system presents the available products list, a customer can purchase a product.",
            "The system updates the shopping cart.",
            "The system presents the ordering page.",]

sample12 = ["""Antivirus Scanner:Protection Cloud Technology:PUA Shield:Award-winning protection from malware (viruses, Trojans, worms, etc.)Scans unknown files in real time for malware and exploits.'
             'Identifies potentially unwanted applicationsHidden programs bundled with other software.'
             'They display ads, slow down your PC and redirect you to other websites.hidden within legitimate software.'
             'Connected Home Monitor-Renamed from Home Network Protection and added a new feature to scan router-connected IoT devices (Internet of Things) to test for vulnerabilities such as weak passwords, open ports and known services.'
             'UEFI Scanner-Proactive scanning that runs in the background and only notifies you if a problem is detected.License Manager-New feature added to my.eset.com that allows you to view and manage your licenses and connected devices.'
             'License Manager-New feature added that allows you to view and manage your licenses and connected devices.'
             'License Manager-New feature added that allows you to view and manage your licenses and connected devices.'
             'Application upgrade in the background mode has been improved. '
             'You no longer have to accept the terms of the End User License Agreement again during the upgrade unless those terms have been changed. '
             'Mail Anti-Virus has been improved. '
             'The default level of heuristic analysis has been increased to mediumKaspersky Anti-Virus 2017 provides the following new features:Kaspersky Anti-Virus 2017 provides the following new features:Mail Anti-Virus has been improved. '
             'The default level of heuristic analysis has been increased to medium Threat-removal Layer - Targets and eliminates hard-to-remove threats less sophisticated products often miss.Always up-to-date Product Version - Norton automatically sends you important product and feature updates throughout the year. '
             'The latest version installs without you needing to do anything.FREE 24x7 Support - Offers you expert help and answers by phone, live chat or online, whenever you need them.1NEW:FREE 24x7 Support - Offers you expert help and answers by phone, live chat or online, whenever you need them. '
             'Performance improvements and fixes for the FG-VD-17-019 vulnerability reported by Fortinets FortiGuard LabsNEW:Performance improvements and fixes for the FG-VD-17-019 vulnerability reported by Fortinet's FortiGuard Labs30-day trial period Nag screenMain Program updated to 6.9.5.2956, FastScan to 6.9.5.1356.New: added detection for malware using Explorer.exe to automatically launch web pages.Fix: if a Scheduled Task was detected loading malware, the Scheduled Task was not being correctly deleted (although the loading malware would still have been disabled correctly).Helpfile updates.NEW:Helpfile updates.
             'Subscription and Device Management integrated in the product. Users can now manage their subscriptions (product management through My Account, Renewal and Upsell areas), as well as their anti-theft protection (My Devices area) from their products.' \
             'Fully compatibles with the NEW Windows 10 Anniversary Update.Engine improvements for better protection and performance.' \
             'ANTIVIRUS PRO,Engine improvements for better protection and performance.' \
             'Bug fixes:Basic protection only. ' \
             'Advanced features are available in AVG Internet Security and AVG Ultimate. ' \
             'Fixed Payment protection (Fake Website Shield component) , which was disabled after clean installation sometimes.' \
             'Bug fixes:Fixed Payment protection (Fake Website Shield component) , which was disabled after clean installation sometimes. ' \
             'Russian anti-virus company Doctor Web has updated Dr.Web Anti-rootkit API (11.1.5.201607180), Dr.Web Scanning Engine 11.1.2.201608020) and the virus databases in its Dr.Web CureIt! utility.' \
             'The update resolves an issue that caused the scanner to freeze if the utility was started using the option Run as.' \
             'Bug fixes,The update resolves an issue that caused the scanner to freeze if the utility was started using the option Run as. ' \
             'Entertainment mode has been introduced.' \
             'Using Entertainmentmode you will be able to play games, watch movies and use anyentertainment software without any interference by Quick Healand without reducing security of your computer.' \
             'Bug fixes:and without reducing security of your computer.' \
             'Several modules (Anti-Tracking, Camera Guard, USB Disk Guard, Malicious Action) are disabledAnti-ransomware engine cannot be activatedThe Bitdefender engine cannot be activatedAuto Scan is disabledAuto Update is disabled.' \
             'Optimized scan engine to repair the occasional scan errors for smoother scan.' \
             'Added optimization for User Account Control, Windows SmartScreen, and Windows Update under Security Reinforce.' \
             'Expanded database to remove the latest threats including Tabs 2 Grid, WinThruster, and Dolphin Deals.Improved multiple languages.' \
             'Bug fixes:Improved multiple languages. New and improved features:1000 machines limitNag screen Administrative rights on the local computerEnabled NetBIOS over TCP/IPEnabled File and Printer sharingEnabled access to the ADMIN$ shareAn ability to ping the computer within 1500 msStarted services: Computer Browser, Remote RegistryTCP ports opened: 135, 139, 445UDP ports opened: 137, 138The program user interface was changed to allow using UI skins. ' \
             'Now you can choose a preferred skin to change the way how the program looks.New and improved features:The program user interface was changed to allow using UI skins.' \
             ' Now you can choose a preferred skin to change the way how the program looks.30 days trial. ' \
             ' F-Secures Real-time Protection Network is an online service which provides rapid response against Internet-based threats.' \
             'The Real-time Protection Network uses reputation services to obtain information about the latest Internet threats. ' \
             ' You can help us develop the service further by contributing detailed information, such as sources of intrusive programs or messages, and behavioral and statistical analysis of the use of the computer and the Internet.' \
             'New and improved features:The Real-time Protection Network uses reputation services to obtain information about the latest Internet threats.' \
             'You can help us develop the service further by contributing detailed information, such as sources of intrusive programs or messages, and behavioral and statistical analysis of the use of the computer and the Internet."""]


#Named-Entity tags and POS-Tags has been made use of to derive the results.
from mlxtend.frequent_patterns import apriori
import itertools

#============================================================================================
# Frequent pattern Mining algorithms
 # abc = list(itertools.chain.from_iterable(f))
    # print(f)
    # patterns = pyfpgrowth.find_frequent_patterns(f, 1)
    # print(patterns)
    # rules = pyfpgrowth.generate_association_rules(f, 0.7)
    # print(rules)
    # abc=list(itertools.chain.from_iterable(f))
    # te = TransactionEncoder()
    # te_ary = te.fit(f).transform(f)
    # df = pd.DataFrame(te_ary, columns=te.columns_)
    # frequent_itemsets = apriori(df, min_support=0.9, use_colnames=True)
    # frequent_itemsets['length'] = frequent_itemsets['itemsets'].apply(lambda x: len(x))
    # print(frequent_itemsets)

#============================================================================================


# sentences = preprocessing.words_reviews
# print(sentences)
# te = TransactionEncoder()
# te_ary = te.fit(sentences).transform(sentences)
# df = pd.DataFrame(te_ary, columns=te.columns_)
# frequent_itemsets = apriori(df, min_support=0.8, use_colnames=True)
# frequent_itemsets['length'] = frequent_itemsets['itemsets'].apply(lambda x: len(x))
# print(frequent_itemsets)

#============================================================================================